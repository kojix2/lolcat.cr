crystal_doc_search_index_callback({"repository_name":"lolcat","body":"# <div align=\"center\">What?<div>\n\n<div align=\"center\"><img src=\"https://raw.githubusercontent.com/busyloop/lolcat/master/ass/nom.jpg\"></div>\n\n---\n\n[![build](https://github.com/kojix2/lolcat.cr/actions/workflows/build.yml/badge.svg)](https://github.com/kojix2/lolcat.cr/actions/workflows/build.yml)\n\n:black_cat: Crystal implementation of the [lolcat](https://github.com/busyloop/lolcat)\n\n## Installation\n\nDownload from [GitHub Release](https://github.com/kojix2/lolcat.cr/releases)\n\nFrom source code:\n\n```sh\ngit clone https://github.com/kojix2/lolcat.cr\ncd lolcat.cr\nshards build --release\nmv bin/lolcat /usr/local/bin/ # or any directory in your PATH\n```\n\nHomebrew:\n\n```sh\nbrew install kojix2/brew/lolcat\n```\n\n## Usage\n\n```sh\nlolcat README.md\n```\n\n```sh\nlolcat --help\n```\n\nAs a library\n\nSee [examples](examples/)\n\n## Development\n\nThis project was created as an example of a command line tool.\nUse only standard libraries and keep it simple.\n\n## Contributing\n\nPull requests and issues are welcome.\n\n## License\n\nThe original lolcat is licensed under the BSD 3-Clause \"New\" or \"Revised\" License.\nThus, the same is true for this project.\n","program":{"html_id":"lolcat/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"locations":[],"repository_name":"lolcat","program":true,"enum":false,"alias":false,"const":false,"types":[{"html_id":"lolcat/Lolcat","path":"Lolcat.html","kind":"module","full_name":"Lolcat","name":"Lolcat","abstract":false,"locations":[{"filename":"src/cli.cr","line_number":3,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/cli.cr#L3"},{"filename":"src/lolcat.cr","line_number":5,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat.cr#L5"},{"filename":"src/lolcat/action.cr","line_number":1,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/action.cr#L1"},{"filename":"src/lolcat/lol.cr","line_number":4,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/lol.cr#L4"},{"filename":"src/lolcat/options.cr","line_number":3,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/options.cr#L3"},{"filename":"src/lolcat/parser.cr","line_number":5,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/parser.cr#L5"},{"filename":"src/lolcat/version.cr","line_number":1,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/version.cr#L1"}],"repository_name":"lolcat","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"VERSION","name":"VERSION","value":"{{ (`shards version /home/runner/work/lolcat.cr/lolcat.cr/src/lolcat`).chomp.stringify }}"}],"class_methods":[{"html_id":"cat(path:Path,spread:Float64=3.0,freq:Float64=0.1,offset:Float64|Nil=nil,invert:Bool=false,force:Bool=false):Nil-class-method","name":"cat","doc":"Print a file with rainbow colors\n\n- If offset is not provided, it will be random.\n- If force is true, it will force color output even if stdout is not a TTY.\n","summary":"<p>Print a file with rainbow colors</p>","abstract":false,"args":[{"name":"path","external_name":"path","restriction":"Path"},{"name":"spread","default_value":"3.0","external_name":"spread","restriction":"Float64"},{"name":"freq","default_value":"0.1","external_name":"freq","restriction":"Float64"},{"name":"offset","default_value":"nil","external_name":"offset","restriction":"Float64 | ::Nil"},{"name":"invert","default_value":"false","external_name":"invert","restriction":"Bool"},{"name":"force","default_value":"false","external_name":"force","restriction":"Bool"}],"args_string":"(path : Path, spread : Float64 = 3.0, freq : Float64 = 0.1, offset : Float64 | Nil = nil, invert : Bool = false, force : Bool = false) : Nil","args_html":"(path : Path, spread : Float64 = <span class=\"n\">3.0</span>, freq : Float64 = <span class=\"n\">0.1</span>, offset : Float64 | Nil = <span class=\"n\">nil</span>, invert : Bool = <span class=\"n\">false</span>, force : Bool = <span class=\"n\">false</span>) : Nil","location":{"filename":"src/lolcat.cr","line_number":15,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat.cr#L15"},"def":{"name":"cat","args":[{"name":"path","external_name":"path","restriction":"Path"},{"name":"spread","default_value":"3.0","external_name":"spread","restriction":"Float64"},{"name":"freq","default_value":"0.1","external_name":"freq","restriction":"Float64"},{"name":"offset","default_value":"nil","external_name":"offset","restriction":"Float64 | ::Nil"},{"name":"invert","default_value":"false","external_name":"invert","restriction":"Bool"},{"name":"force","default_value":"false","external_name":"force","restriction":"Bool"}],"return_type":"Nil","visibility":"Public","body":"offset_f64 = offset || (rand * 256.0)\noptions = Lolcat::Options.new(spread: spread, freq: freq, offset: offset_f64, invert: invert, force: force)\nFile.open(path) do |file|\n  Lolcat::Lol.lol_cat(file, options)\nend\n"}},{"html_id":"cat(input:String,spread:Float64=3.0,freq:Float64=0.1,offset:Float64|Nil=nil,invert:Bool=false,force:Bool=false):Nil-class-method","name":"cat","doc":"Print a string with rainbow colors\n\n- If offset is not provided, it will be random.\n- If force is true, it will force color output even if stdout is not a TTY.\n","summary":"<p>Print a string with rainbow colors</p>","abstract":false,"args":[{"name":"input","external_name":"input","restriction":"String"},{"name":"spread","default_value":"3.0","external_name":"spread","restriction":"Float64"},{"name":"freq","default_value":"0.1","external_name":"freq","restriction":"Float64"},{"name":"offset","default_value":"nil","external_name":"offset","restriction":"Float64 | ::Nil"},{"name":"invert","default_value":"false","external_name":"invert","restriction":"Bool"},{"name":"force","default_value":"false","external_name":"force","restriction":"Bool"}],"args_string":"(input : String, spread : Float64 = 3.0, freq : Float64 = 0.1, offset : Float64 | Nil = nil, invert : Bool = false, force : Bool = false) : Nil","args_html":"(input : String, spread : Float64 = <span class=\"n\">3.0</span>, freq : Float64 = <span class=\"n\">0.1</span>, offset : Float64 | Nil = <span class=\"n\">nil</span>, invert : Bool = <span class=\"n\">false</span>, force : Bool = <span class=\"n\">false</span>) : Nil","location":{"filename":"src/lolcat.cr","line_number":29,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat.cr#L29"},"def":{"name":"cat","args":[{"name":"input","external_name":"input","restriction":"String"},{"name":"spread","default_value":"3.0","external_name":"spread","restriction":"Float64"},{"name":"freq","default_value":"0.1","external_name":"freq","restriction":"Float64"},{"name":"offset","default_value":"nil","external_name":"offset","restriction":"Float64 | ::Nil"},{"name":"invert","default_value":"false","external_name":"invert","restriction":"Bool"},{"name":"force","default_value":"false","external_name":"force","restriction":"Bool"}],"return_type":"Nil","visibility":"Public","body":"offset_f64 = offset || (rand * 256.0)\noptions = Lolcat::Options.new(spread: spread, freq: freq, offset: offset_f64, invert: invert, force: force)\nLolcat::Lol.lol_cat(input, options)\n"}},{"html_id":"lol(input,spread:Float64=3.0,freq:Float64=0.1,offset:Float64|Nil=nil,invert:Bool=false,&):Nil-class-method","name":"lol","doc":"Get a rainbow string line by line\n\n- If offset is not provided, it will be random.\n\nExample:\n```\nLolcat.lol(\"Rainbow string\", invert: true) do |line|\n  print line\nend\n```\n","summary":"<p>Get a rainbow string line by line</p>","abstract":false,"args":[{"name":"input","external_name":"input","restriction":""},{"name":"spread","default_value":"3.0","external_name":"spread","restriction":"Float64"},{"name":"freq","default_value":"0.1","external_name":"freq","restriction":"Float64"},{"name":"offset","default_value":"nil","external_name":"offset","restriction":"Float64 | ::Nil"},{"name":"invert","default_value":"false","external_name":"invert","restriction":"Bool"}],"args_string":"(input, spread : Float64 = 3.0, freq : Float64 = 0.1, offset : Float64 | Nil = nil, invert : Bool = false, &) : Nil","args_html":"(input, spread : Float64 = <span class=\"n\">3.0</span>, freq : Float64 = <span class=\"n\">0.1</span>, offset : Float64 | Nil = <span class=\"n\">nil</span>, invert : Bool = <span class=\"n\">false</span>, &) : Nil","location":{"filename":"src/lolcat.cr","line_number":47,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat.cr#L47"},"def":{"name":"lol","args":[{"name":"input","external_name":"input","restriction":""},{"name":"spread","default_value":"3.0","external_name":"spread","restriction":"Float64"},{"name":"freq","default_value":"0.1","external_name":"freq","restriction":"Float64"},{"name":"offset","default_value":"nil","external_name":"offset","restriction":"Float64 | ::Nil"},{"name":"invert","default_value":"false","external_name":"invert","restriction":"Bool"}],"yields":1,"block_arity":1,"return_type":"Nil","visibility":"Public","body":"offset_f64 = offset || (rand * 256.0)\noptions = Lolcat::Options.new(spread: spread, freq: freq, offset: offset_f64, invert: invert, force: true)\nLolcat::Lol.lol(input, options) do |line|\n  yield line\nend\n"}}],"types":[{"html_id":"lolcat/Lolcat/Action","path":"Lolcat/Action.html","kind":"enum","full_name":"Lolcat::Action","name":"Action","abstract":false,"ancestors":[{"html_id":"lolcat/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"lolcat/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"lolcat/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"lolcat/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lolcat/action.cr","line_number":2,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/action.cr#L2"}],"repository_name":"lolcat","program":false,"enum":true,"alias":false,"const":false,"constants":[{"id":"Lolcat","name":"Lolcat","value":"0_u8"},{"id":"Version","name":"Version","value":"1_u8"},{"id":"Help","name":"Help","value":"2_u8"}],"namespace":{"html_id":"lolcat/Lolcat","kind":"module","full_name":"Lolcat","name":"Lolcat"},"instance_methods":[{"html_id":"help?-instance-method","name":"help?","abstract":false,"location":{"filename":"src/lolcat/action.cr","line_number":5,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/action.cr#L5"},"def":{"name":"help?","visibility":"Public","body":"self == Help"}},{"html_id":"lolcat?-instance-method","name":"lolcat?","abstract":false,"location":{"filename":"src/lolcat/action.cr","line_number":3,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/action.cr#L3"},"def":{"name":"lolcat?","visibility":"Public","body":"self == Lolcat"}},{"html_id":"version?-instance-method","name":"version?","abstract":false,"location":{"filename":"src/lolcat/action.cr","line_number":4,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/action.cr#L4"},"def":{"name":"version?","visibility":"Public","body":"self == Version"}}]},{"html_id":"lolcat/Lolcat/CLI","path":"Lolcat/CLI.html","kind":"class","full_name":"Lolcat::CLI","name":"CLI","abstract":false,"superclass":{"html_id":"lolcat/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"lolcat/Lolcat/Lol","kind":"module","full_name":"Lolcat::Lol","name":"Lol"},{"html_id":"lolcat/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"lolcat/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/cli.cr","line_number":4,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/cli.cr#L4"}],"repository_name":"lolcat","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"lolcat/Lolcat/Lol","kind":"module","full_name":"Lolcat::Lol","name":"Lol"}],"namespace":{"html_id":"lolcat/Lolcat","kind":"module","full_name":"Lolcat","name":"Lolcat"},"class_methods":[{"html_id":"debug=(debug:Bool)-class-method","name":"debug=","abstract":false,"args":[{"name":"debug","external_name":"debug","restriction":"Bool"}],"args_string":"(debug : Bool)","args_html":"(debug : Bool)","location":{"filename":"src/cli.cr","line_number":7,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/cli.cr#L7"},"def":{"name":"debug=","args":[{"name":"debug","external_name":"debug","restriction":"Bool"}],"visibility":"Public","body":"@@debug = debug"}},{"html_id":"debug?:Bool-class-method","name":"debug?","abstract":false,"location":{"filename":"src/cli.cr","line_number":7,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/cli.cr#L7"},"def":{"name":"debug?","return_type":"Bool","visibility":"Public","body":"@@debug"}}],"constructors":[{"html_id":"new-class-method","name":"new","abstract":false,"location":{"filename":"src/cli.cr","line_number":12,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/cli.cr#L12"},"def":{"name":"new","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"option:Options-instance-method","name":"option","abstract":false,"location":{"filename":"src/cli.cr","line_number":10,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/cli.cr#L10"},"def":{"name":"option","return_type":"Options","visibility":"Public","body":"@option"}},{"html_id":"parse_args(args=ARGV)-instance-method","name":"parse_args","abstract":false,"args":[{"name":"args","default_value":"ARGV","external_name":"args","restriction":""}],"args_string":"(args = ARGV)","args_html":"(args = <span class=\"t\">ARGV</span>)","location":{"filename":"src/cli.cr","line_number":17,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/cli.cr#L17"},"def":{"name":"parse_args","args":[{"name":"args","default_value":"ARGV","external_name":"args","restriction":""}],"visibility":"Public","body":"@option = parser.parse(args)"}},{"html_id":"parser:Parser-instance-method","name":"parser","abstract":false,"location":{"filename":"src/cli.cr","line_number":9,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/cli.cr#L9"},"def":{"name":"parser","return_type":"Parser","visibility":"Public","body":"@parser"}},{"html_id":"print_help-instance-method","name":"print_help","abstract":false,"location":{"filename":"src/cli.cr","line_number":45,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/cli.cr#L45"},"def":{"name":"print_help","visibility":"Public","body":"help_message = \"#{parser.help_message}\\n\"\nlol_cat(help_message, option)\n"}},{"html_id":"print_version-instance-method","name":"print_version","abstract":false,"location":{"filename":"src/cli.cr","line_number":41,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/cli.cr#L41"},"def":{"name":"print_version","visibility":"Public","body":"puts(\"lolcat version #{Lolcat::VERSION}\")"}},{"html_id":"run-instance-method","name":"run","abstract":false,"location":{"filename":"src/cli.cr","line_number":21,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/cli.cr#L21"},"def":{"name":"run","visibility":"Public","body":"begin\n  parse_args\n  case option.action\n  when Action::Lolcat\n    run_lolcat\n  when Action::Version\n    print_version\n  when Action::Help\n    print_help\n  else\n    raise(ArgumentError.new(\"Invalid action: #{option.action}\"))\n  end\nrescue ex\n  handle_error(ex)\nend"}},{"html_id":"run_lolcat-instance-method","name":"run_lolcat","abstract":false,"location":{"filename":"src/cli.cr","line_number":37,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/cli.cr#L37"},"def":{"name":"run_lolcat","visibility":"Public","body":"lol_cat(ARGF, option)"}}]},{"html_id":"lolcat/Lolcat/Lol","path":"Lolcat/Lol.html","kind":"module","full_name":"Lolcat::Lol","name":"Lol","abstract":false,"locations":[{"filename":"src/lolcat.cr","line_number":6,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat.cr#L6"},{"filename":"src/lolcat/lol.cr","line_number":5,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/lol.cr#L5"}],"repository_name":"lolcat","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"ANSI_ESCAPE","name":"ANSI_ESCAPE","value":"/((?:\\e(?:[ -\\/]+.|[\\]PX^_][^\\a\\e]*|\\[[0-?]*.|.))*)(.?)/m"},{"id":"ESCAPE_SEQUENCES","name":"ESCAPE_SEQUENCES","value":"/\\e\\[[0-?]*[@JKPX]/"},{"id":"HIDE_CURSOR","name":"HIDE_CURSOR","value":"\"\\e[?25l\""},{"id":"INCOMPLETE_ESCAPE","name":"INCOMPLETE_ESCAPE","value":"/\\e(?:[ -\\/]*|[\\]PX^_][^\\a\\e]*|\\[[0-?]*)$/"},{"id":"RESET_ATTRIBUTES","name":"RESET_ATTRIBUTES","value":"\"\\e[m\""},{"id":"RESET_TERMINAL_MODES","name":"RESET_TERMINAL_MODES","value":"\"\\e[?1;5;2004l\""},{"id":"SHOW_CURSOR","name":"SHOW_CURSOR","value":"\"\\e[?25h\""}],"extended_modules":[{"html_id":"lolcat/Lolcat/Lol","kind":"module","full_name":"Lolcat::Lol","name":"Lol"}],"including_types":[{"html_id":"lolcat/Lolcat/CLI","kind":"class","full_name":"Lolcat::CLI","name":"CLI"}],"namespace":{"html_id":"lolcat/Lolcat","kind":"module","full_name":"Lolcat","name":"Lolcat"},"instance_methods":[{"html_id":"lol(input:String,options:Options,&)-instance-method","name":"lol","abstract":false,"args":[{"name":"input","external_name":"input","restriction":"String"},{"name":"options","external_name":"options","restriction":"Options"}],"args_string":"(input : String, options : Options, &)","args_html":"(input : String, options : <a href=\"../Lolcat/Options.html\">Options</a>, &)","location":{"filename":"src/lolcat/lol.cr","line_number":32,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/lol.cr#L32"},"def":{"name":"lol","args":[{"name":"input","external_name":"input","restriction":"String"},{"name":"options","external_name":"options","restriction":"Options"}],"yields":1,"block_arity":1,"visibility":"Public","body":"lol(IO::Memory.new(input), options) do |line|\n  yield line\nend"}},{"html_id":"lol(input:IO,options:Options,&)-instance-method","name":"lol","abstract":false,"args":[{"name":"input","external_name":"input","restriction":"IO"},{"name":"options","external_name":"options","restriction":"Options"}],"args_string":"(input : IO, options : Options, &)","args_html":"(input : IO, options : <a href=\"../Lolcat/Options.html\">Options</a>, &)","location":{"filename":"src/lolcat/lol.cr","line_number":36,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/lol.cr#L36"},"def":{"name":"lol","args":[{"name":"input","external_name":"input","restriction":"IO"},{"name":"options","external_name":"options","restriction":"Options"}],"yields":1,"block_arity":1,"visibility":"Public","body":"buffer = IO::Memory.new\nchunk = Bytes.new(4096)\nline_number = 0\nbytes_read = 0\ncursor_position = 0\nwhile (bytes_read = input.read(chunk)) > 0\n  buffer.write(chunk[0, bytes_read])\n  buffer_content = buffer.to_s\n  if buffer_content =~ INCOMPLETE_ESCAPE\n    next\n  end\n  buffer_content.each_line(chomp: false) do |line|\n    line_number, cursor_position = clip_tail(line, line_number, cursor_position, options) do |lin|\n      yield lin\n    end\n  end\n  buffer.clear\nend\n"}},{"html_id":"lol_cat(input:IO|String,options:Options)-instance-method","name":"lol_cat","abstract":false,"args":[{"name":"input","external_name":"input","restriction":"IO | String"},{"name":"options","external_name":"options","restriction":"Options"}],"args_string":"(input : IO | String, options : Options)","args_html":"(input : IO | String, options : <a href=\"../Lolcat/Options.html\">Options</a>)","location":{"filename":"src/lolcat/lol.cr","line_number":22,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/lol.cr#L22"},"def":{"name":"lol_cat","args":[{"name":"input","external_name":"input","restriction":"IO | String"},{"name":"options","external_name":"options","restriction":"Options"}],"visibility":"Public","body":"begin\n  options.force? ? Colorize.enabled = true : Colorize.on_tty_only!\n  if options.animate?\n    print(HIDE_CURSOR)\n  end\n  lol(input, options) do |line|\n    print(line)\n  end\nensure\n  if STDOUT.tty? || options.force?\n    print(\"#{RESET_ATTRIBUTES}#{SHOW_CURSOR}#{RESET_TERMINAL_MODES}\")\n  end\nend"}},{"html_id":"rainbow_color(freq:Float64,offset:Float64):Tuple(UInt8,UInt8,UInt8)-instance-method","name":"rainbow_color","abstract":false,"args":[{"name":"freq","external_name":"freq","restriction":"Float64"},{"name":"offset","external_name":"offset","restriction":"Float64"}],"args_string":"(freq : Float64, offset : Float64) : Tuple(UInt8, UInt8, UInt8)","args_html":"(freq : Float64, offset : Float64) : Tuple(UInt8, UInt8, UInt8)","location":{"filename":"src/lolcat/lol.cr","line_number":16,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/lol.cr#L16"},"def":{"name":"rainbow_color","args":[{"name":"freq","external_name":"freq","restriction":"Float64"},{"name":"offset","external_name":"offset","restriction":"Float64"}],"return_type":"::Tuple(UInt8, UInt8, UInt8)","visibility":"Public","body":"{(((Math.sin((freq * offset) + 0)) + 1) * 127).to_u8, (((Math.sin((freq * offset) + ((2 * Math::PI) / 3))) + 1) * 127).to_u8, (((Math.sin((freq * offset) + ((4 * Math::PI) / 3))) + 1) * 127).to_u8}"}},{"html_id":"rainbow_line(line:String,options:Options,index:Int32,pos:Int32):String-instance-method","name":"rainbow_line","abstract":false,"args":[{"name":"line","external_name":"line","restriction":"String"},{"name":"options","external_name":"options","restriction":"Options"},{"name":"index","external_name":"index","restriction":"Int32"},{"name":"pos","external_name":"pos","restriction":"Int32"}],"args_string":"(line : String, options : Options, index : Int32, pos : Int32) : String","args_html":"(line : String, options : <a href=\"../Lolcat/Options.html\">Options</a>, index : Int32, pos : Int32) : String","location":{"filename":"src/lolcat/lol.cr","line_number":94,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/lol.cr#L94"},"def":{"name":"rainbow_line","args":[{"name":"line","external_name":"line","restriction":"String"},{"name":"options","external_name":"options","restriction":"Options"},{"name":"index","external_name":"index","restriction":"Int32"},{"name":"pos","external_name":"pos","restriction":"Int32"}],"return_type":"String","visibility":"Public","body":"offset = (options.offset + index) + (pos / options.spread)\nrainbow_line(line, options, offset)\n"}},{"html_id":"rainbow_line(line:String,options:Options,offset:Float64):String-instance-method","name":"rainbow_line","abstract":false,"args":[{"name":"line","external_name":"line","restriction":"String"},{"name":"options","external_name":"options","restriction":"Options"},{"name":"offset","external_name":"offset","restriction":"Float64"}],"args_string":"(line : String, options : Options, offset : Float64) : String","args_html":"(line : String, options : <a href=\"../Lolcat/Options.html\">Options</a>, offset : Float64) : String","location":{"filename":"src/lolcat/lol.cr","line_number":99,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/lol.cr#L99"},"def":{"name":"rainbow_line","args":[{"name":"line","external_name":"line","restriction":"String"},{"name":"options","external_name":"options","restriction":"Options"},{"name":"offset","external_name":"offset","restriction":"Float64"}],"return_type":"String","visibility":"Public","body":"String.build do |str|\n  char_position = 0\n  line.scan(ANSI_ESCAPE) do |match|\n    escape_sequence = match[1]?\n    character = match[2]?\n    if escape_sequence\n      str << escape_sequence\n    end\n    if character\n      off_set = offset + (char_position / options.spread)\n      color = rainbow_color(options.freq, off_set)\n      if options.invert?\n        str << (character.colorize.back(*color))\n      else\n        str << (character.colorize.fore(*color))\n      end\n      char_position = char_position + 1\n    end\n  end\nend"}}]},{"html_id":"lolcat/Lolcat/Options","path":"Lolcat/Options.html","kind":"struct","full_name":"Lolcat::Options","name":"Options","abstract":false,"superclass":{"html_id":"lolcat/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"lolcat/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"lolcat/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"lolcat/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lolcat/options.cr","line_number":4,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/options.cr#L4"}],"repository_name":"lolcat","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"lolcat/Lolcat","kind":"module","full_name":"Lolcat","name":"Lolcat"},"constructors":[{"html_id":"new(action:Lolcat::Action=Action::Lolcat,spread:Float64=3.0,freq:Float64=0.1,offset:Float64=rand*256.0,animate:Bool=false,duration:Int32=12,speed:Float64=20.0,invert:Bool=false,force:Bool=false)-class-method","name":"new","abstract":false,"args":[{"name":"action","default_value":"Action::Lolcat","external_name":"action","restriction":"::Lolcat::Action"},{"name":"spread","default_value":"3.0","external_name":"spread","restriction":"::Float64"},{"name":"freq","default_value":"0.1","external_name":"freq","restriction":"::Float64"},{"name":"offset","default_value":"rand * 256.0","external_name":"offset","restriction":"::Float64"},{"name":"animate","default_value":"false","external_name":"animate","restriction":"::Bool"},{"name":"duration","default_value":"12","external_name":"duration","restriction":"::Int32"},{"name":"speed","default_value":"20.0","external_name":"speed","restriction":"::Float64"},{"name":"invert","default_value":"false","external_name":"invert","restriction":"::Bool"},{"name":"force","default_value":"false","external_name":"force","restriction":"::Bool"}],"args_string":"(action : Lolcat::Action = Action::Lolcat, spread : Float64 = 3.0, freq : Float64 = 0.1, offset : Float64 = rand * 256.0, animate : Bool = false, duration : Int32 = 12, speed : Float64 = 20.0, invert : Bool = false, force : Bool = false)","args_html":"(action : <a href=\"../Lolcat/Action.html\">Lolcat::Action</a> = <span class=\"t\">Action</span><span class=\"t\">::</span><span class=\"t\">Lolcat</span>, spread : Float64 = <span class=\"n\">3.0</span>, freq : Float64 = <span class=\"n\">0.1</span>, offset : Float64 = rand <span class=\"o\">*</span> <span class=\"n\">256.0</span>, animate : Bool = <span class=\"n\">false</span>, duration : Int32 = <span class=\"n\">12</span>, speed : Float64 = <span class=\"n\">20.0</span>, invert : Bool = <span class=\"n\">false</span>, force : Bool = <span class=\"n\">false</span>)","location":{"filename":"src/lolcat/options.cr","line_number":15,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/options.cr#L15"},"def":{"name":"new","args":[{"name":"action","default_value":"Action::Lolcat","external_name":"action","restriction":"::Lolcat::Action"},{"name":"spread","default_value":"3.0","external_name":"spread","restriction":"::Float64"},{"name":"freq","default_value":"0.1","external_name":"freq","restriction":"::Float64"},{"name":"offset","default_value":"rand * 256.0","external_name":"offset","restriction":"::Float64"},{"name":"animate","default_value":"false","external_name":"animate","restriction":"::Bool"},{"name":"duration","default_value":"12","external_name":"duration","restriction":"::Int32"},{"name":"speed","default_value":"20.0","external_name":"speed","restriction":"::Float64"},{"name":"invert","default_value":"false","external_name":"invert","restriction":"::Bool"},{"name":"force","default_value":"false","external_name":"force","restriction":"::Bool"}],"visibility":"Public","body":"_ = allocate\n_.initialize(action, spread, freq, offset, animate, duration, speed, invert, force)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"action:Action-instance-method","name":"action","abstract":false,"location":{"filename":"src/lolcat/options.cr","line_number":5,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/options.cr#L5"},"def":{"name":"action","return_type":"Action","visibility":"Public","body":"@action"}},{"html_id":"action=(action:Action)-instance-method","name":"action=","abstract":false,"args":[{"name":"action","external_name":"action","restriction":"Action"}],"args_string":"(action : Action)","args_html":"(action : <a href=\"../Lolcat/Action.html\">Action</a>)","location":{"filename":"src/lolcat/options.cr","line_number":5,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/options.cr#L5"},"def":{"name":"action=","args":[{"name":"action","external_name":"action","restriction":"Action"}],"visibility":"Public","body":"@action = action"}},{"html_id":"animate=(animate:Bool)-instance-method","name":"animate=","abstract":false,"args":[{"name":"animate","external_name":"animate","restriction":"Bool"}],"args_string":"(animate : Bool)","args_html":"(animate : Bool)","location":{"filename":"src/lolcat/options.cr","line_number":9,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/options.cr#L9"},"def":{"name":"animate=","args":[{"name":"animate","external_name":"animate","restriction":"Bool"}],"visibility":"Public","body":"@animate = animate"}},{"html_id":"animate?:Bool-instance-method","name":"animate?","abstract":false,"location":{"filename":"src/lolcat/options.cr","line_number":9,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/options.cr#L9"},"def":{"name":"animate?","return_type":"Bool","visibility":"Public","body":"@animate"}},{"html_id":"duration:Int32-instance-method","name":"duration","abstract":false,"location":{"filename":"src/lolcat/options.cr","line_number":10,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/options.cr#L10"},"def":{"name":"duration","return_type":"Int32","visibility":"Public","body":"@duration"}},{"html_id":"duration=(duration:Int32)-instance-method","name":"duration=","abstract":false,"args":[{"name":"duration","external_name":"duration","restriction":"Int32"}],"args_string":"(duration : Int32)","args_html":"(duration : Int32)","location":{"filename":"src/lolcat/options.cr","line_number":10,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/options.cr#L10"},"def":{"name":"duration=","args":[{"name":"duration","external_name":"duration","restriction":"Int32"}],"visibility":"Public","body":"@duration = duration"}},{"html_id":"force=(force:Bool)-instance-method","name":"force=","abstract":false,"args":[{"name":"force","external_name":"force","restriction":"Bool"}],"args_string":"(force : Bool)","args_html":"(force : Bool)","location":{"filename":"src/lolcat/options.cr","line_number":13,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/options.cr#L13"},"def":{"name":"force=","args":[{"name":"force","external_name":"force","restriction":"Bool"}],"visibility":"Public","body":"@force = force"}},{"html_id":"force?:Bool-instance-method","name":"force?","abstract":false,"location":{"filename":"src/lolcat/options.cr","line_number":13,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/options.cr#L13"},"def":{"name":"force?","return_type":"Bool","visibility":"Public","body":"@force"}},{"html_id":"freq:Float64-instance-method","name":"freq","abstract":false,"location":{"filename":"src/lolcat/options.cr","line_number":7,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/options.cr#L7"},"def":{"name":"freq","return_type":"Float64","visibility":"Public","body":"@freq"}},{"html_id":"freq=(freq:Float64)-instance-method","name":"freq=","abstract":false,"args":[{"name":"freq","external_name":"freq","restriction":"Float64"}],"args_string":"(freq : Float64)","args_html":"(freq : Float64)","location":{"filename":"src/lolcat/options.cr","line_number":7,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/options.cr#L7"},"def":{"name":"freq=","args":[{"name":"freq","external_name":"freq","restriction":"Float64"}],"visibility":"Public","body":"@freq = freq"}},{"html_id":"invert=(invert:Bool)-instance-method","name":"invert=","abstract":false,"args":[{"name":"invert","external_name":"invert","restriction":"Bool"}],"args_string":"(invert : Bool)","args_html":"(invert : Bool)","location":{"filename":"src/lolcat/options.cr","line_number":12,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/options.cr#L12"},"def":{"name":"invert=","args":[{"name":"invert","external_name":"invert","restriction":"Bool"}],"visibility":"Public","body":"@invert = invert"}},{"html_id":"invert?:Bool-instance-method","name":"invert?","abstract":false,"location":{"filename":"src/lolcat/options.cr","line_number":12,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/options.cr#L12"},"def":{"name":"invert?","return_type":"Bool","visibility":"Public","body":"@invert"}},{"html_id":"offset:Float64-instance-method","name":"offset","abstract":false,"location":{"filename":"src/lolcat/options.cr","line_number":8,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/options.cr#L8"},"def":{"name":"offset","return_type":"Float64","visibility":"Public","body":"@offset"}},{"html_id":"offset=(offset:Float64)-instance-method","name":"offset=","abstract":false,"args":[{"name":"offset","external_name":"offset","restriction":"Float64"}],"args_string":"(offset : Float64)","args_html":"(offset : Float64)","location":{"filename":"src/lolcat/options.cr","line_number":8,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/options.cr#L8"},"def":{"name":"offset=","args":[{"name":"offset","external_name":"offset","restriction":"Float64"}],"visibility":"Public","body":"@offset = offset"}},{"html_id":"speed:Float64-instance-method","name":"speed","abstract":false,"location":{"filename":"src/lolcat/options.cr","line_number":11,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/options.cr#L11"},"def":{"name":"speed","return_type":"Float64","visibility":"Public","body":"@speed"}},{"html_id":"speed=(speed:Float64)-instance-method","name":"speed=","abstract":false,"args":[{"name":"speed","external_name":"speed","restriction":"Float64"}],"args_string":"(speed : Float64)","args_html":"(speed : Float64)","location":{"filename":"src/lolcat/options.cr","line_number":11,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/options.cr#L11"},"def":{"name":"speed=","args":[{"name":"speed","external_name":"speed","restriction":"Float64"}],"visibility":"Public","body":"@speed = speed"}},{"html_id":"spread:Float64-instance-method","name":"spread","abstract":false,"location":{"filename":"src/lolcat/options.cr","line_number":6,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/options.cr#L6"},"def":{"name":"spread","return_type":"Float64","visibility":"Public","body":"@spread"}},{"html_id":"spread=(spread:Float64)-instance-method","name":"spread=","abstract":false,"args":[{"name":"spread","external_name":"spread","restriction":"Float64"}],"args_string":"(spread : Float64)","args_html":"(spread : Float64)","location":{"filename":"src/lolcat/options.cr","line_number":6,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/options.cr#L6"},"def":{"name":"spread=","args":[{"name":"spread","external_name":"spread","restriction":"Float64"}],"visibility":"Public","body":"@spread = spread"}}]},{"html_id":"lolcat/Lolcat/Parser","path":"Lolcat/Parser.html","kind":"class","full_name":"Lolcat::Parser","name":"Parser","abstract":false,"superclass":{"html_id":"lolcat/OptionParser","kind":"class","full_name":"OptionParser","name":"OptionParser"},"ancestors":[{"html_id":"lolcat/OptionParser","kind":"class","full_name":"OptionParser","name":"OptionParser"},{"html_id":"lolcat/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"lolcat/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lolcat/parser.cr","line_number":6,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/parser.cr#L6"}],"repository_name":"lolcat","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"lolcat/Lolcat","kind":"module","full_name":"Lolcat","name":"Lolcat"},"constructors":[{"html_id":"new-class-method","name":"new","abstract":false,"location":{"filename":"src/lolcat/parser.cr","line_number":11,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/parser.cr#L11"},"def":{"name":"new","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"help_message:String-instance-method","name":"help_message","abstract":false,"location":{"filename":"src/lolcat/parser.cr","line_number":9,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/parser.cr#L9"},"def":{"name":"help_message","return_type":"String","visibility":"Public","body":"@help_message"}},{"html_id":"help_message=(help_message:String)-instance-method","name":"help_message=","abstract":false,"args":[{"name":"help_message","external_name":"help_message","restriction":"String"}],"args_string":"(help_message : String)","args_html":"(help_message : String)","location":{"filename":"src/lolcat/parser.cr","line_number":9,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/parser.cr#L9"},"def":{"name":"help_message=","args":[{"name":"help_message","external_name":"help_message","restriction":"String"}],"visibility":"Public","body":"@help_message = help_message"}},{"html_id":"opt:Options-instance-method","name":"opt","abstract":false,"location":{"filename":"src/lolcat/parser.cr","line_number":7,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/parser.cr#L7"},"def":{"name":"opt","return_type":"Options","visibility":"Public","body":"@opt"}},{"html_id":"parse(args)-instance-method","name":"parse","doc":"Parses the passed *args* (defaults to `ARGV`), running the handlers associated to each option.","summary":"<p>Parses the passed <em>args</em> (defaults to <code>ARGV</code>), running the handlers associated to each option.</p>","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(args)","args_html":"(args)","location":{"filename":"src/lolcat/parser.cr","line_number":102,"url":"https://github.com/kojix2/lolcat.cr/blob/404b7de777a2c87a5fd3ce94e3a5f52f64298542/src/lolcat/parser.cr#L102"},"def":{"name":"parse","args":[{"name":"args","external_name":"args","restriction":""}],"visibility":"Public","body":"super(args)\n@opt\n"}}]}]}]}})